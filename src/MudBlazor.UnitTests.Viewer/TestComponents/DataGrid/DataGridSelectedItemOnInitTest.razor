<MudDataGrid @ref=_refGrid T="ContractEntity"
             Items="Contracts"
             MultiSelection="false"
             SelectedItem="_selectedItem"
             SelectedItemChanged="SelectedItemChanged">
    <Columns>
        <SelectColumn T="ContractEntity" ShowInHeader="false" />
        <PropertyColumn T="ContractEntity"
                        TProperty="DateOnly"
                        Property="x => DateOnly.FromDateTime(x.ValidFrom)"
                        Title="ValidFrom" />
        <PropertyColumn T="ContractEntity"
                        TProperty="DateOnly"
                        Property="x => DateOnly.FromDateTime(x.ValidTo)"
                        Title="ValidTo" />
    </Columns>
    <PagerContent>
        <MudDataGridPager T="ContractEntity" />
    </PagerContent>
</MudDataGrid>

<MudText>
    @_selectedItem?.Id
</MudText>

@code {
    private List<ContractEntity> Contracts = new List<ContractEntity>();
    MudDataGrid<ContractEntity>? _refGrid;
    private ContractEntity? _selectedItem;

    protected override void OnInitialized()
    {
        Contracts.Add(new ContractEntity()
            {
                Id = 1,
                ValidFrom = DateTime.Now,
                ValidTo = DateTime.Now,
            });

        Contracts.Add(new ContractEntity()
            {
                Id = 2,
                ValidFrom = DateTime.Now,
                ValidTo = DateTime.Now,
            });

        Contracts.Add(new ContractEntity()
            {
                Id = 3,
                ValidFrom = DateTime.Now,
                ValidTo = DateTime.Now,
            });

        _selectedItem = Contracts.First();
    }

    private void SelectedItemChanged(ContractEntity entity)
    {
        _selectedItem = entity;
    }

    public class ContractEntity
    {
        public int Id { get; set; }

        public DateTime ValidFrom { get; set; }

        public DateTime ValidTo { get; set; }
    }
}
